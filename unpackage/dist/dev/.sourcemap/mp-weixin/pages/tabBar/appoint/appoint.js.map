{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/Girl Boooom/Documents/HBuilderProjects/MoyuHuashui/pages/tabBar/appoint/appoint.vue?c4ba","webpack:///C:/Users/Girl Boooom/Documents/HBuilderProjects/MoyuHuashui/pages/tabBar/appoint/appoint.vue?4862","webpack:///C:/Users/Girl Boooom/Documents/HBuilderProjects/MoyuHuashui/pages/tabBar/appoint/appoint.vue?7e9a","uni-app:///pages/tabBar/appoint/appoint.vue","webpack:///C:/Users/Girl Boooom/Documents/HBuilderProjects/MoyuHuashui/pages/tabBar/appoint/appoint.vue?256f","webpack:///C:/Users/Girl Boooom/Documents/HBuilderProjects/MoyuHuashui/pages/tabBar/appoint/appoint.vue?a282"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2QAEN;AACP,KAAK;AACL;AACA,aAAa,mSAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyFrnB;;;AAGA,+C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,iE,eAEA,EACA,cADA,EAEA,IAFA,kBAEA,CACA,SACA,iBADA,EAEA,gBAFA,EAGA,WACA,EACA,KADA,EAEA,WAFA,EADA,CAHA,EASA,iBATA,EAUA,iBAVA,EAWA,SAXA,EAYA,YAZA,EAaA,uBAbA,EAcA,eACA,qBADA,EAEA,qBAFA,EAGA,qBAHA,EAdA,EAmBA,uBAnBA,EAoBA,qBApBA,GAsBA,CAzBA,EA0BA,YACA,YACA,GADA,iBACA,CACA,qBACA,CAHA,EAIA,GAJA,eAIA,CAJA,EAIA,CACA,kBACA,CANA,EADA,EA1BA,EAoCA,MApCA,oBAoCA,CACA,yBACA,CAtCA,EAuCA,MAvCA,oBAuCA,mBACA,kDACA,6EACA,CAFA,EAGA,CA3CA,EA4CA,iBA5CA,+BA4CA,CACA;AACA;AACA,4BAHA,CAIA;AACA,GAjDA,EAkDA,aAlDA,2BAkDA,CACA,uBADA,CAEA;AACA,GArDA,EAsDA,WACA,OADA,mBACA,OADA,EACA,CACA,iBACA,uBACA,+EACA,4FACA,8BACA,+BACA,6EACA,iBACA,wCACA,iBACA,oBACA,qCACA,iCACA,mCACA,iBACA,kBACA,oBACA,kDACA,mBACA,uBACA,mBACA,CACA,kEACA,mBACA,CACA,6BACA,CACA,oBACA,CApBA,EAqBA,yBACA,CAxBA,EAyBA,CAjCA;AAkCA,eAlCA,uBAkCA,YAlCA,EAkCA,EAlCA,EAkCA,IAlCA,EAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9CA;AA+CA;AACA;AACA;AACA;AACA,iHADA;;AAGA,KArDA;AAsDA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA;AACA;AACA,uIADA;;AAGA,OAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzEA;AA0EA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA;AACA;AACA,SAFA;AAGA;AACA,KArFA;AAsFA;AACA,cAvFA,sBAuFA,KAvFA,EAuFA,GAvFA,EAuFA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAMA,KA5GA;AA6GA,WA7GA,mBA6GA,CA7GA,EA6GA;AACA;AACA,KA/GA;AAgHA,kBAhHA,0BAgHA,CAhHA,EAgHA;AACA;AACA;AACA;AACA;AACA,KArHA;AAsHA,eAtHA,yBAsHA,EAtHA,EAtDA,E;;;;;;;;;;;;;ACjGA;AAAA;AAAA;AAAA;AAA4oC,CAAgB,knCAAG,EAAC,C;;;;;;;;;;;ACAhqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tabBar/appoint/appoint.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/tabBar/appoint/appoint.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./appoint.vue?vue&type=template&id=2ffad85b&\"\nvar renderjs\nimport script from \"./appoint.vue?vue&type=script&lang=js&\"\nexport * from \"./appoint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appoint.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabBar/appoint/appoint.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./appoint.vue?vue&type=template&id=2ffad85b&\"","var components\ntry {\n  components = {\n    weekCalendar: function() {\n      return import(\n        /* webpackChunkName: \"components/week-calendar/week-calendar\" */ \"@/components/week-calendar/week-calendar.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./appoint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./appoint.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!--\r\n\t本页面模板教程：https://ext.dcloud.net.cn/plugin?id=2651\r\n\tuni-list 文档：https://ext.dcloud.net.cn/plugin?id=24\r\n\tuniCloud 文档：https://uniapp.dcloud.io/uniCloud/README\r\n\tunicloud-db 组件文档：https://uniapp.dcloud.io/uniCloud/unicloud-db\r\n\tDB Schema 规范：https://uniapp.dcloud.net.cn/uniCloud/schema\r\n\t -->\r\n\t<view>\r\n\t\t<week-calendar @selected-change=\"selectedChange\"></week-calendar>\r\n\t\t<!-- 刷新页面后的顶部提示框 -->\r\n\t\t<!-- 当前弹出内容没有实际逻辑 ，可根据当前业务修改弹出提示 -->\r\n\t\t<!-- <view class=\"tips\" :class=\"{ 'tips-ani': tipShow }\">为您更新了10条最新新闻动态</view> -->\r\n\t\t<!-- 页面分类标题 -->\r\n\t\t<!-- <uni-section title=\"最热商品\" type=\"line\"><button class=\"button-box\" @click=\"select\">切换视图</button></uni-section> -->\r\n\r\n\t\t<view class=\"uni-list\">\r\n\t\t\t<view class=\"uni-list-cell\" hover-class=\"uni-list-cell-hover\" v-for=\"(value, index) in roomList\" :key=\"index\">\r\n\t\t\t\t<view class=\"uni-media-list\">\r\n\t\t\t\t\t<image class=\"uni-media-list-logo\" :src=\"value.image1\" @click=\"goDetail(value)\"></image>\r\n\t\t\t\t\t<view class=\"uni-media-list-body\">\r\n\t\t\t\t\t\t<view class=\"uni-media-list-text-top\">{{ value.name }}</view>\r\n\t\t\t\t\t\t<view class=\"uni-media-list-text-bottom\">\r\n\t\t\t\t\t\t\t<text>{{ value.author_name }}</text>\r\n\t\t\t\t\t\t\t<!-- <text>{{ value.published_at }}</text> -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-media-list-text-right\">\r\n\t\t\t\t\t\t\t<button type=\"primary\" size=\"mini\" @click=\"goToAppoint(value)\">预约</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t\t<text class=\"price\">{{value.price_per_hour / 100}}</text>\r\n\t\t\t\t\t\t\t<text class=\"other\">已售 99</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t<view class=\"ad-view\" v-if=\"(index > 0 && (index+1) % 10 == 0)\">\r\n\t\t\t\t<ad :adpid=\"adpid\" @error=\"aderror\"></ad>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t\t<uni-load-more :status=\"status\" :icon-size=\"16\" :content-text=\"contentText\" />\r\n\r\n\t\t<!-- 规格-模态层弹窗 -->\r\n\t\t<view \r\n\t\t\tclass=\"popup spec\" \r\n\t\t\t:class=\"specClass\"\r\n\t\t\t@touchmove.stop.prevent=\"stopPrevent\"\r\n\t\t\t@click=\"closePopup\"\r\n\t\t>\r\n\t\t\t<!-- 遮罩层 -->\r\n\t\t\t<view class=\"mask\"></view>\r\n\t\t\t<view class=\"layer attr-content\" @click.stop=\"stopPrevent\">\r\n\t\t\t\t<view class=\"a-t\">\r\n\t\t\t\t\t<image :src=\"currentSelectItem.image1\"></image>\r\n\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t<text class=\"price\">¥{{currentSelectItem.price_per_hour / 100}}</text>\r\n\t\t\t\t\t\t<text class=\"stock\">库存：999件</text>\r\n\t\t\t\t\t\t<view class=\"selected\">\r\n\t\t\t\t\t\t\t已选：\r\n\t\t\t\t\t\t\t<text class=\"selected-text\" v-for=\"(sItem, sIndex) in specSelected\" :key=\"sIndex\">\r\n\t\t\t\t\t\t\t\t{{sItem.interval}}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-for=\"(item,index) in specList\" :key=\"index\" class=\"attr-list\">\r\n\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t<view class=\"item-list\">\r\n\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\tv-for=\"(childItem, childIndex) in specChildList\" \r\n\t\t\t\t\t\t\t:key=\"childIndex\" class=\"tit\"\r\n\t\t\t\t\t\t\t:class=\"{selected: childItem.selected, disabled: childItem.status > 1}\"\r\n\t\t\t\t\t\t\t@click=\"selectSpec(childIndex, childItem.pid)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{childItem.interval}}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"btn\" @click=\"goToAppoint\">完成</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tdateUtils\r\n\t} from '../../../common/util.js';\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\tconst AUTH = require('../../../utils/auth.js')\r\n\t\r\n\texport default {\r\n\t\tcomponents: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tspecClass: 'none',\r\n\t\t\t\tspecSelected: [],\r\n\t\t\t\tspecList: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tname: '时间段',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tspecChildList: [],\r\n\t\t\t\tstatus: 'refresh',\r\n\t\t\t\tadpid: '',\r\n\t\t\t\tlistData: [],\r\n\t\t\t\tcurrentSelectItem: null,\r\n\t\t\t\tcontentText: {\r\n\t\t\t\t\tcontentdown: '上拉加载更多',\r\n\t\t\t\t\tcontentrefresh: '加载中',\r\n\t\t\t\t\tcontentnomore: '没有更多'\r\n\t\t\t\t},\r\n\t\t\t\tcurrentSelectDate:null,\r\n\t\t\t\tcurrentFullDate:null,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\troomList: {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn this.listData;\r\n\t\t\t\t},\r\n\t\t\t\tset(v) {\r\n\t\t\t\t\tthis.listData = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.adpid = this.$adpid;\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tAUTH.checkHasLogined().then(isLogined => {\r\n\t\t\t\tthis.getList(this.currentFullDate ? this.currentFullDate : new Date());\r\n\t\t\t});\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\t// this.reload = true;\r\n\t\t\t// this.last_id = '';\r\n\t\t\tthis.status = 'refresh';\r\n\t\t\t// this.getList(new Date());\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tthis.status = 'nomore';\r\n\t\t\t// this.getList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetList(dayDate) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tvar today = new Date();\r\n\t\t\t\tvar currentHour = today.getDay() == dayDate.getDay()? dayDate.getHours():-1;\r\n\t\t\t\tvar date = dayDate.getFullYear()+'-'+(dayDate.getMonth()+1)+'-'+dayDate.getDate();\r\n\t\t\t\tthis.currentSelectDate = date;\r\n\t\t\t\tthis.currentFullDate = dayDate;\r\n\t\t\t\tAUTH.getRoomDataList(uni.getStorageSync(\"token\"), date).then(function(res){\r\n\t\t\t\t\tvar newList = [];\r\n\t\t\t\t\tres.data.rooms.forEach(item=>{\r\n\t\t\t\t\t\tvar _item = item;\r\n\t\t\t\t\t\t_item.appoints = [];\r\n\t\t\t\t\t\tvar start = item.opening_hours_start;\r\n\t\t\t\t\t\tvar end = item.opening_hours_end;\r\n\t\t\t\t\t\tfor (var i = start; i < end; i++) {\r\n\t\t\t\t\t\t\tvar appoint = {};\r\n\t\t\t\t\t\t\tappoint.start = i;\r\n\t\t\t\t\t\t\tappoint.end = i+1;\r\n\t\t\t\t\t\t\tappoint.interval = i +\":00 - \" + (i+1) + \":00\";\r\n\t\t\t\t\t\t\tappoint.status = 1;\r\n\t\t\t\t\t\t\tif (i <= currentHour){\r\n\t\t\t\t\t\t\t\tappoint.status = 2;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (_this.findAppoint(res.data.appointments, item.object_id, i)){\r\n\t\t\t\t\t\t\t\tappoint.status = 3;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_item.appoints.push(appoint);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewList.push(_item);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.listData = newList;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfindAppoint(appointments, id, hour){\r\n\t\t\t\tfor (var i = 0; i < appointments.length; i++) {\r\n\t\t\t\t\tif (appointments[i].room == id){\r\n\t\t\t\t\t\tfor (var j = 0; j < appointments[i].time_list.length; j++) {\r\n\t\t\t\t\t\t\tlet interval = appointments[i].time_list[j];\r\n\t\t\t\t\t\t\tif(interval[0] == hour && appointments[i].callback_data){\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tgoDetail: function(item) {\r\n\t\t\t\t//测试数据没有写id，用title代替\r\n\t\t\t\tlet id = item.id;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/product/product?data=${JSON.stringify(item)}&date=${this.currentSelectDate}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToAppoint: function(e) {\r\n\t\t\t\tif (this.specClass === 'show') {\r\n\t\t\t\t\tthis.specClass = 'hide';\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.specClass = 'none';\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t\tthis.currentSelectItem.selects = this.specSelected;\r\n\t\t\t\t\tif(this.specSelected.length <= 0) return;\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/order/createOrder?data=${JSON.stringify(this.currentSelectItem)}&date=${this.currentSelectDate}`\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.specClass === 'none') {\r\n\t\t\t\t\tthis.currentSelectItem = e;\r\n\t\t\t\t\t// AUTH.getRoomAppointments(uni.getStorageSync(\"token\"), this.currentSelectItem.object_id, this.currentSelectDate).then(res=>{\r\n\t\t\t\t\t\tthis.specClass = 'show';\r\n\t\t\t\t\t\t// console.log(\"======================>fucking appoint:\", res);\r\n\t\t\t\t\t\tthis.specChildList = this.currentSelectItem.appoints;\r\n\t\t\t\t\t// });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclosePopup: function(e) {\r\n\t\t\t\tif (this.specClass === 'show') {\r\n\t\t\t\t\tthis.specClass = 'hide';\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.specClass = 'none';\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t\tthis.specSelected = [];\r\n\t\t\t\t\tthis.specChildList.forEach(item=>{\r\n\t\t\t\t\t\tthis.$set(item, 'selected', false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//选择规格\r\n\t\t\tselectSpec(index, pid) {\r\n\t\t\t\tlet list = this.specChildList;\r\n\t\t\t\tif (list[index].status > 1) return;\r\n\t\t\t\tif (list[index].selected) {\r\n\t\t\t\t\tthis.$set(list[index], 'selected', false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$set(list[index], 'selected', true);\r\n\t\t\t\t}\r\n\t\t\t\t//存储已选择\r\n\t\t\t\t/**\r\n\t\t\t\t * 修复选择规格存储错误\r\n\t\t\t\t * 将这几行代码替换即可\r\n\t\t\t\t * 选择的规格存放在specSelected中\r\n\t\t\t\t */\r\n\t\t\t\tthis.specSelected = [];\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\tif (item.selected === true) {\r\n\t\t\t\t\t\tthis.specSelected.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\taderror(e) {\r\n\t\t\t\tconsole.log(\"aderror: \" + JSON.stringify(e.detail));\r\n\t\t\t},\r\n\t\t\tselectedChange(e) {\r\n\t\t\t\tlet date = new Date(e.fullDate);\r\n\t\t\t\tvar today = new Date();\r\n\t\t\t\tdate.setHours(today.getHours());\r\n\t\t\t\tthis.getList(date);\r\n\t\t\t},\r\n\t\t\tstopPrevent() {}\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground-color: $page-color-base;\r\n\t\t// height: auto;\r\n\t}\r\n\r\n\t.uni-media-list-logo {\r\n\t\twidth: 180rpx;\r\n\t\theight: 140rpx;\r\n\t}\r\n\r\n\t.uni-media-list-body {\r\n\t\theight: auto;\r\n\t\tjustify-content: space-around;\r\n\r\n\t\t.price-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: left;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tfont-size: 24upx;\r\n\t\t\tcolor: $font-color-light;\r\n\r\n\t\t\t.price {\r\n\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t\tline-height: 1;\r\n\r\n\t\t\t\t&:before {\r\n\t\t\t\t\tcontent: '￥';\r\n\t\t\t\t\tfont-size: 26upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.other {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tleft: 20upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-media-list-text-top {\r\n\t\theight: 74rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.uni-media-list-text-bottom {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.uni-media-list-text-right {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\tposition: absolute;\r\n\t\tright: 16upx;\r\n\t\tbottom: 10upx;\r\n\t}\r\n\r\n\t/* 规格选择弹窗 */\r\n\t.attr-content{\r\n\t\tpadding: 10upx 30upx;\r\n\t\t.a-t{\r\n\t\t\tdisplay: flex;\r\n\t\t\timage{\r\n\t\t\t\twidth: 170upx;\r\n\t\t\t\theight: 170upx;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tmargin-top: -40upx;\r\n\t\t\t\tborder-radius: 8upx;;\r\n\t\t\t}\r\n\t\t\t.right{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tpadding-left: 24upx;\r\n\t\t\t\tfont-size: $font-sm + 2upx;\r\n\t\t\t\tcolor: $font-color-base;\r\n\t\t\t\tline-height: 42upx;\r\n\t\t\t\t.price{\r\n\t\t\t\t\tfont-size: $font-lg;\r\n\t\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t\t\tmargin-bottom: 10upx;\r\n\t\t\t\t}\r\n\t\t\t\t.selected-text{\r\n\t\t\t\t\tmargin-right: 10upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.attr-list{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tfont-size: $font-base + 2upx;\r\n\t\t\tcolor: $font-color-base;\r\n\t\t\tpadding-top: 30upx;\r\n\t\t\tpadding-left: 10upx;\r\n\t\t}\r\n\t\t.item-list{\r\n\t\t\tpadding: 20upx 0 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\ttext{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tbackground: #eee;\r\n\t\t\t\tmargin-right: 20upx;\r\n\t\t\t\tmargin-bottom: 20upx;\r\n\t\t\t\tborder-radius: 100upx;\r\n\t\t\t\tmin-width: 60upx;\r\n\t\t\t\theight: 60upx;\r\n\t\t\t\tpadding: 0 20upx;\r\n\t\t\t\tfont-size: $font-base;\r\n\t\t\t\tcolor: $font-color-dark;\r\n\t\t\t}\r\n\t\t\t.selected{\r\n\t\t\t\tbackground: #fbebee;\r\n\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t}\r\n\t\t\t.disabled {\r\n\t\t\t\tcolor: $font-color-light;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n/*  弹出层 */\r\n\t.popup {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 99;\r\n\t\t\r\n\t\t&.show {\r\n\t\t\tdisplay: block;\r\n\t\t\t.mask{\r\n\t\t\t\tanimation: showPopup 0.2s linear both;\r\n\t\t\t}\r\n\t\t\t.layer {\r\n\t\t\t\tanimation: showLayer 0.2s linear both;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&.hide {\r\n\t\t\t.mask{\r\n\t\t\t\tanimation: hidePopup 0.2s linear both;\r\n\t\t\t}\r\n\t\t\t.layer {\r\n\t\t\t\tanimation: hideLayer 0.2s linear both;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&.none {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.mask{\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tz-index: 1;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\t}\r\n\t\t.layer {\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 99;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tmin-height: 40vh;\r\n\t\t\tborder-radius: 10upx 10upx 0 0;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\t.btn{\r\n\t\t\t\theight: 66upx;\r\n\t\t\t\tline-height: 66upx;\r\n\t\t\t\tborder-radius: 100upx;\r\n\t\t\t\tbackground: $uni-color-primary;\r\n\t\t\t\tfont-size: $font-base + 2upx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tmargin: 30upx auto 20upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t@keyframes showPopup {\r\n\t\t\t0% {\r\n\t\t\t\topacity: 0;\r\n\t\t\t}\r\n\t\t\t100% {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t@keyframes hidePopup {\r\n\t\t\t0% {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\t\t\t100% {\r\n\t\t\t\topacity: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t@keyframes showLayer {\r\n\t\t\t0% {\r\n\t\t\t\ttransform: translateY(120%);\r\n\t\t\t}\r\n\t\t\t100% {\r\n\t\t\t\ttransform: translateY(0%);\r\n\t\t\t}\r\n\t\t}\r\n\t\t@keyframes hideLayer {\r\n\t\t\t0% {\r\n\t\t\t\ttransform: translateY(0);\r\n\t\t\t}\r\n\t\t\t100% {\r\n\t\t\t\ttransform: translateY(120%);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./appoint.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./appoint.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641873351247\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}